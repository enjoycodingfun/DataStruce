//ç»™ä½ ä¸€ä¸ªåŒ…å« n ä¸ªæ•´æ•°çš„æ•°ç»„ numsï¼Œåˆ¤æ–­ nums ä¸­æ˜¯å¦å­˜åœ¨ä¸‰ä¸ªå…ƒç´  aï¼Œbï¼Œc ï¼Œä½¿å¾— a + b + c = 0 ï¼Ÿè¯·ä½ æ‰¾å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶ä¸”ä¸é‡å¤
//çš„ä¸‰å…ƒç»„ã€‚ 
//
// æ³¨æ„ï¼šç­”æ¡ˆä¸­ä¸å¯ä»¥åŒ…å«é‡å¤çš„ä¸‰å…ƒç»„ã€‚ 
//
// 
//
// ç¤ºä¾‹ï¼š 
//
// ç»™å®šæ•°ç»„ nums = [-1, 0, 1, 2, -1, -4]ï¼Œ
//
//æ»¡è¶³è¦æ±‚çš„ä¸‰å…ƒç»„é›†åˆä¸ºï¼š
//[
//  [-1, 0, 1],
//  [-1, -1, 2]
//]
// 
// Related Topics æ•°ç»„ åŒæŒ‡é’ˆ 
// ğŸ‘ 2666 ğŸ‘ 0


package leetcode.editor.cn;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

//Javaï¼šä¸‰æ•°ä¹‹å’Œ
public class P15ä¸‰æ•°ä¹‹å’Œ {

    public static void main(String[] args) {
        Solution solution = new P15ä¸‰æ•°ä¹‹å’Œ().new Solution();
        // TO TEST
    }

    /**
     * https://leetcode-cn.com/problems/3sum/solution/3sumpai-xu-shuang-zhi-zhen-yi-dong-by-jyd/
     * åŒæŒ‡é’ˆæ³•æ€è·¯ï¼š å›ºå®š 3 ä¸ªæŒ‡é’ˆä¸­æœ€å·¦ï¼ˆæœ€å°ï¼‰æ•°å­—çš„æŒ‡é’ˆ kï¼ŒåŒæŒ‡é’ˆ iï¼Œj åˆ†è®¾åœ¨æ•°ç»„ç´¢å¼• (k, len(nums))(k,len(nums)) ä¸¤ç«¯ï¼Œé€šè¿‡åŒæŒ‡é’ˆäº¤æ›¿å‘ä¸­é—´ç§»åŠ¨ï¼Œè®°å½•å¯¹äºæ¯ä¸ªå›ºå®šæŒ‡é’ˆ k çš„æ‰€æœ‰æ»¡è¶³
     * nums[k] + nums[i] + nums[j] == 0 çš„ i,j ç»„åˆï¼š
     * å½“ nums[k] > 0 æ—¶ç›´æ¥breakè·³å‡ºï¼šå› ä¸º nums[j] >= nums[i] >= nums[k] > 0ï¼Œå³ 33 ä¸ªæ•°å­—éƒ½å¤§äº 00 ï¼Œåœ¨æ­¤å›ºå®šæŒ‡é’ˆ k ä¹‹åä¸å¯èƒ½å†æ‰¾åˆ°ç»“æœäº†ã€‚
     * å½“ k > 0ä¸”nums[k] == nums[k - 1]æ—¶å³è·³è¿‡æ­¤å…ƒç´ nums[k]ï¼šå› ä¸ºå·²ç»å°† nums[k - 1] çš„æ‰€æœ‰ç»„åˆåŠ å…¥åˆ°ç»“æœä¸­ï¼Œæœ¬æ¬¡åŒæŒ‡é’ˆæœç´¢åªä¼šå¾—åˆ°é‡å¤ç»„åˆã€‚
     * iï¼Œj åˆ†è®¾åœ¨æ•°ç»„ç´¢å¼• (k, len(nums))(k,len(nums)) ä¸¤ç«¯ï¼Œå½“i < jæ—¶å¾ªç¯è®¡ç®—s = nums[k] + nums[i] + nums[j]ï¼Œå¹¶æŒ‰ç…§ä»¥ä¸‹è§„åˆ™æ‰§è¡ŒåŒæŒ‡é’ˆç§»åŠ¨ï¼š
     * å½“s < 0æ—¶ï¼Œi += 1å¹¶è·³è¿‡æ‰€æœ‰é‡å¤çš„nums[i]ï¼›
     * å½“s > 0æ—¶ï¼Œj -= 1å¹¶è·³è¿‡æ‰€æœ‰é‡å¤çš„nums[j]ï¼›
     * å½“s == 0æ—¶ï¼Œè®°å½•ç»„åˆ[k, i, j]è‡³resï¼Œæ‰§è¡Œi += 1å’Œj -= 1å¹¶è·³è¿‡æ‰€æœ‰é‡å¤çš„nums[i]å’Œnums[j]ï¼Œé˜²æ­¢è®°å½•åˆ°é‡å¤ç»„åˆã€‚
     * å¤æ‚åº¦åˆ†æï¼š
     * æ—¶é—´å¤æ‚åº¦ O(N^2)O(N
     * 2
     *  )ï¼šå…¶ä¸­å›ºå®šæŒ‡é’ˆkå¾ªç¯å¤æ‚åº¦ O(N)O(N)ï¼ŒåŒæŒ‡é’ˆ iï¼Œj å¤æ‚åº¦ O(N)O(N)ã€‚
     * ç©ºé—´å¤æ‚åº¦ O(1)O(1)ï¼šæŒ‡é’ˆä½¿ç”¨å¸¸æ•°å¤§å°çš„é¢å¤–ç©ºé—´ã€‚

     */

    //leetcode submit region begin(Prohibit modification and deletion)
    class Solution {

        public List<List<Integer>> threeSum(int[] nums) {
            if(nums == null || nums.length < 3){
                return new ArrayList<>();
            }
            List<List<Integer>> res = new ArrayList<>();
            //é¦–å…ˆç»™æ•°ç»„æ’åº
            Arrays.sort(nums);
            //é¦–å…ˆå®šä½ä¸€ä¸ªå…ƒç´ ,ç”¨äºéå†æ—¶çš„é¦–ä¸ªæ•°å­—ï¼Œä¹‹ååœ¨å®šä½å·¦å³æŒ‡é’ˆæŒ‡å‘è¿™ä¸ªæ•°å­—ä¹‹åçš„æ•°å­—ï¼ˆæ‰€ä»¥è¿™ä¸ªæ•°å­—åªè¦åˆ°å€’æ•°ç¬¬ä¸‰ä¸ªå°±è¡Œäº†ï¼‰
            for (int i = 0; i < nums.length-2; i++) {
                if (nums[i]>0) {
                    //é¦–ä¸ªæ•°å­—å·²ç»å¤§äºé›¶ï¼Œåé¢çš„æ¯”è¿™ä¸ªæ•°å­—è¿˜å¤§ï¼Œé‚£ä¹ˆä¸‰ä¸ªæ•°å­—ä¹‹å’Œä¸€å®šå¤§äºé›¶ï¼Œä¸å¿…å†éå†äº†
                    break;
                }
                //åˆ«å¿˜è®°å‰é¢çš„i>0æ¡ä»¶
                if (i>0 && nums[i] == nums[i-1]) {
                    //è¯´æ˜è¿™ä¸ªæ•°å­—å·²ç»åšè¿‡ä¸€æ¬¡é¦–ä½æ•°å­—äº†ï¼Œä¸ºäº†é¿å…é‡å¤ï¼Œå»é™¤æ‰
                    continue;
                }
                //å®šä½å·¦å³æŒ‡é’ˆ
                int left = i + 1;
                int right = nums.length-1;
                while (left < right){
                    int sum = nums[i]+nums[left]+nums[right];
                    if (sum == 0){
                        //è¿™åªæ˜¯ä»¥å½“å‰å®šä½æ•°å­—ä¸ºè€å¤§ï¼Œæ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªè€äºŒè€ä¸‰ï¼Œè¿˜éœ€è¦ç»§ç»­ä»¥è¯¥æ•°å­—ä¸ºè€å¤§ï¼Œæ‰¾åˆ«çš„è€äºŒè€ä¸‰ï¼ˆå³å·¦å³æŒ‡é’ˆéœ€è¦ç»§ç»­å¾€å†…éƒ¨èµ°ï¼‰
                        List<Integer> list = new ArrayList<>();
                        list.add(nums[i]);
                        list.add(nums[left]);
                        list.add(nums[right]);
                        res.add(list);
                        //continue;æ³¨æ„è¿™é‡Œä¸åº”è¯¥continueï¼Œåº”è¯¥ç»§ç»­æ‰¾æŠŠå·¦å³æŒ‡é’ˆå¾€ä¸­é—´é æ‹¢ï¼Œä½†åŒæ—¶éœ€è¦å»é‡ï¼ˆä¸ä»…æ˜¯è€å¤§éœ€è¦å»é‡ï¼Œè€äºŒè€ä¸‰éå†è¿‡ç¨‹ä¸­ä¹Ÿè¦å»é‡ï¼‰
                        while (left < right && nums[left+1] == nums[left]){
                            //æ³¨æ„å½“è·³å‡ºè¿™ä¸ªwhileå¾ªç¯çš„æ—¶å€™ï¼Œå½“å‰leftæŒ‡å‘çš„å…ƒç´ ä¸ä¸‹ä¸€ä¸ªç¡®å®ä¸ç›¸ç­‰äº†ï¼Œä½†æ˜¯ä¸å…¶ä¸Šä¸€ä¸ªè¿˜æ˜¯ç›¸ç­‰çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åœ¨è·³å‡ºå¾ªç¯ä¹‹åç»§ç»­left+1
                            left++;
                        }
                        while (left < right && nums[right-1] == nums[right]){
                            right--;
                        }
                        //å¦‚æœå·¦å³æŒ‡é’ˆæ²¡æœ‰é‡å¤çš„ï¼Œç›´æ¥å¾€å†…éƒ¨é æ‹¢å³å¯
                        left++;
                        right--;
                    }else if (sum > 0){
                        //æœ‰ç‚¹åå¤§ï¼Œè¿™ä¸ªæ—¶å€™ç§»åŠ¨å³æŒ‡é’ˆ
                        right--;
                    }else if (sum < 0){
                        //æœ‰ç‚¹åå°ï¼Œç§»åŠ¨å·¦æŒ‡é’ˆ
                        left++;
                    }
                }
            }
            return res;
        }

    }
//leetcode submit region end(Prohibit modification and deletion)

}
